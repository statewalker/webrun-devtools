# chrome.debugger API

This Chrome extension allows to pilot resources from a web page.

## How to use?

1. Import this extension in Chrome
2. Pin the extension in the bar
3. Click on the icon, enter (or generate) a secret key and save it
4. Open the index.html page over HTTP: `http://localhost:8080/examples/index.html`
5. Enter the secret key to launch automations

The page should create a new browser tab, navigate to external resources and create screenshots.
The screenshots are show on the page.

## ObservableHQ 

The main example pilots the browser and creates automatically screenshots of external sites.
To see it: 
1. Start a local server from this folder (ex: http://localhost:8080)
2. Open the `./examples/index.html` page (http://localhost:8080/examples/)
3. Enter the secret key, defined in the extension popup window


## API

Information about the `chrome.debugger` api - see https://developer.chrome.com/docs/extensions/reference/debugger/.

This API is inspired by https://github.com/TracerBench/chrome-debugging-client/.

The following Chrome APIs are available:
* [chrome.tabs](https://developer.chrome.com/docs/extensions/reference/tabs/)
  - [chrome.tabs#create](https://developer.chrome.com/docs/extensions/reference/tabs/#method-create) - creates a new tab
  - [chrome.tabs#remove](https://developer.chrome.com/docs/extensions/reference/tabs/#method-create) - creates a new tab
* [chrome.debugger](https://developer.chrome.com/docs/extensions/reference/debugger/)
  - all methods
  - `$once(target, event)` - this additional method allows to await the specified event generated by the debugger

## How it works?

Extension creates a bridge with the page and exposes the `chrome.debugger` and `chrome.tabs` APIs to this page.
